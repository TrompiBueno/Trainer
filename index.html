<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Personal Trainer Online</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<style>
body { font-family:'Space Grotesk', sans-serif; background:#f9f9f9; margin:0; padding:0;}
.container { max-width:900px; margin:2rem auto; padding:1rem; }
h2 { color:#ff2ec9; font-size:1.8rem; margin-bottom:1rem; }
.form-group { margin-bottom:1rem; }
label { display:block; font-weight:bold; margin-bottom:0.3rem; }
input, select { width:100%; padding:0.5rem; font-size:1rem; }
.checkbox-group { display:flex; flex-wrap:wrap; gap:0.5rem; }
.checkbox-group label { border:1px solid #ff2ec9; padding:0.5rem 1rem; cursor:pointer; transition:0.2s; }
.checkbox-group input { display:none; }
.checkbox-group input:checked + label { background:#ff2ec9; color:#fff; }
.radio-group label { border:1px solid #ff2ec9; padding:0.5rem 1rem; cursor:pointer; margin-right:0.5rem; transition:0.2s; }
.radio-group input { display:none; }
.radio-group input:checked + label { background:#ff2ec9; color:#fff; }
.btn { background:#ff2ec9; color:#121212; border:none; padding:0.7rem 1.5rem; cursor:pointer; margin-top:1rem; font-weight:bold; }
.workout { margin-top:2rem; }
.day { border:1px solid #ff2ec9; margin-bottom:1rem; padding:0.5rem; }
.exercise { border:1px solid #121212; padding:0.3rem 0.5rem; margin:0.3rem 0; cursor:pointer; transition:0.2s; }
.exercise.selected { background:#ff2ec9; color:#fff; }
.exercise:hover { background:#ffe0f4; }
</style>
</head>
<body>
<div class="container">
<h2>Personal Trainer Online</h2>

<div class="form-group">
  <label>Edad</label>
  <input type="number" id="age" min="15" max="100" value="20">
</div>
<div class="form-group">
  <label>Peso (kg)</label>
  <input type="number" id="weight" min="30" max="200" value="70">
</div>
<div class="form-group">
  <label>Duración diaria (minutos)</label>
  <input type="number" id="duration" min="10" max="90" value="30">
</div>
<div class="form-group">
  <label>Duración del programa (meses)</label>
  <input type="number" id="months" min="1" max="12" value="1">
</div>
<div class="form-group">
  <label>Dificultad</label>
  <div class="radio-group">
    <input type="radio" id="easy" name="difficulty" value="easy" checked>
    <label for="easy">Fácil</label>
    <input type="radio" id="medium" name="difficulty" value="medium">
    <label for="medium">Media</label>
    <input type="radio" id="hard" name="difficulty" value="hard">
    <label for="hard">Difícil</label>
  </div>
</div>

<div class="form-group">
  <label>Selecciona partes del cuerpo (puedes elegir varias)</label>
  <div class="checkbox-group">
    <input type="checkbox" id="arms" value="Arms"><label for="arms">Brazos</label>
    <input type="checkbox" id="legs" value="Legs"><label for="legs">Piernas</label>
    <input type="checkbox" id="chest" value="Chest"><label for="chest">Pecho</label>
    <input type="checkbox" id="back" value="Back"><label for="back">Espalda</label>
    <input type="checkbox" id="core" value="Core"><label for="core">Core/Abdomen</label>
    <input type="checkbox" id="shoulders" value="Shoulders"><label for="shoulders">Hombros</label>
  </div>
</div>

<button class="btn" onclick="generateRoutine()">Generar Rutina</button>

<div id="workout" class="workout">
<h2>Rutina Día a Día</h2>
<div id="calendar"></div>
<button class="btn" onclick="downloadPDF()">Descargar PDF</button>
</div>
</div>

<script>
const exercises = {
  Arms: [
    {name:"Flexiones de brazos", easy:"5-10 con rodillas apoyadas", medium:"15-20 normales", hard:"25-30 completas", how:"Coloca manos al ancho de hombros y baja el pecho controlado."},
    {name:"Fondos en silla", easy:"5 rep", medium:"10 rep", hard:"15 rep", how:"Apoya manos en silla, baja lentamente doblando codos."}
  ],
  Legs:[
    {name:"Sentadillas", easy:"10 rep básicas", medium:"20 rep profundas", hard:"30 rep muy profundas", how:"Pies al ancho de hombros, baja cadera como si te sientas."},
    {name:"Zancadas", easy:"5 por pierna", medium:"10 por pierna", hard:"15 por pierna", how:"Da un paso adelante y baja rodilla trasera sin tocar el suelo."}
  ],
  Chest:[
    {name:"Flexiones de pecho", easy:"5-10 rodillas apoyadas", medium:"15-20 normales", hard:"25-30 completas", how:"Manos al ancho de hombros, baja pecho y sube controlado."},
    {name:"Aperturas de pecho en el suelo", easy:"5-8 rep", medium:"10-15 rep", hard:"20 rep", how:"Acostado boca arriba, abre brazos y vuelve a juntar lentamente."}
  ],
  Back:[
    {name:"Superman", easy:"10 seg", medium:"20 seg", hard:"30 seg", how:"Boca abajo, levanta brazos y piernas estiradas."},
    {name:"Puente invertido", easy:"5 seg", medium:"15 seg", hard:"25 seg", how:"Apoya manos y pies, levanta cadera alineando torso."}
  ],
  Core:[
    {name:"Plancha", easy:"15 seg codos y rodillas", medium:"30 seg codos y pies", hard:"60 seg", how:"Mantén espalda recta, codos bajo hombros."},
    {name:"Abdominales clásicos", easy:"5-10 rep", medium:"15-20 rep", hard:"25-30 rep", how:"Baja espalda controlada, sube torso usando abdomen."}
  ],
  Shoulders:[
    {name:"Elevaciones laterales brazos estirados", easy:"5 rep", medium:"10 rep", hard:"15 rep", how:"Brazos a los lados, sube a la altura de hombros."},
    {name:"Círculos de hombros", easy:"10 seg", medium:"20 seg", hard:"30 seg", how:"Haz círculos hacia adelante y hacia atrás lentamente."}
  ]
};

let programDays=[];

function generateRoutine(){
  const selectedParts = Array.from(document.querySelectorAll(".checkbox-group input:checked")).map(i=>i.value);
  if(selectedParts.length===0){ alert("Elige al menos una parte"); return; }

  const months = parseInt(document.getElementById("months").value)||1;
  const duration = parseInt(document.getElementById("duration").value)||30;
  const difficulty = document.querySelector('input[name="difficulty"]:checked').value;
  const days = months*30;
  programDays=[];

  // Aproximación: cada ejercicio dura ~5 minutos
  const exercisesPerDay = Math.max(1, Math.floor(duration / 5));

  for(let i=1;i<=days;i++){
    let day={date:"Día "+i, exercises:[]};

    // Mezclamos las partes del cuerpo seleccionadas
    let shuffledParts = selectedParts.sort(()=>0.5-Math.random());

    for(let j=0; j<exercisesPerDay; j++){
      let part = shuffledParts[j % shuffledParts.length];
      let exList = exercises[part];
      if(exList && exList.length>0){
        let ex = exList[Math.floor(Math.random()*exList.length)];
        day.exercises.push({
          name: ex.name,
          desc: ex[difficulty] + " (" + ex.how + ")"
        });
      }
    }

    programDays.push(day);
  }

  renderCalendar(programDays);
  document.getElementById('workout').style.display="block";
}

function renderCalendar(calendar){
  const container = document.getElementById("calendar");
  container.innerHTML="";
  calendar.forEach(day=>{
    const dayDiv = document.createElement("div");
    dayDiv.className="day";
    dayDiv.innerHTML=`<strong>${day.date}</strong>`;
    day.exercises.forEach(ex=>{
      const div = document.createElement("div");
      div.className="exercise";
      div.innerText=ex.name + " - " + ex.desc;
      div.onclick=()=>{
        div.classList.toggle("selected");
        alert(ex.name + ": " + ex.desc);
      };
      dayDiv.appendChild(div);
    });
    container.appendChild(dayDiv);
  });
}

function downloadPDF(){
  const { jsPDF } = window.jspdf;
  const doc = new jsPDF();
  let y=10;
  programDays.forEach(day=>{
    doc.setFontSize(12); doc.setFont(undefined,"bold"); doc.text(day.date,10,y); y+=6;
    day.exercises.forEach(ex=>{
      doc.setFont(undefined,"normal");
      let lines = doc.splitTextToSize("- "+ex.name+": "+ex.desc,180);
      doc.text(lines,10,y); y+=lines.length*6;
      if(y>280){ doc.addPage(); y=10; }
    });
    y+=3;
  });
  doc.save("RutinaEntrenamiento.pdf");
}
</script>

<footer style="text-align: center;">
  <p>Personal Trainer Online. Miguel Ojeda 3ºC</p>
</footer>
</body>
</html>
